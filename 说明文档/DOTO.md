# Defense of the sOgou

[TOC]

## 前言

本游戏的灵感来自于DOTA，因此我将它命名为DOTO（搜狗卫士），表示还有代码中会有很多TODO

## 游戏介绍 简略版

本游戏是多人即时对战类游戏，每局游戏会生成一个存在若干矩形障碍物的矩形场地，多名角色诞生在场地中，一名玩家可以同时控制多名角色，支持玩家与玩家之间使用火球术与陨石术互相攻击。场地中每个势力会生成一个魔法水晶，游戏目标是抢夺属于别人的魔法水晶，并将魔法水晶运送到自己的阵地内，或是杀死其他势力的角色，获得得分。最终根据每个玩家所控制的势力的得分进行排名。

## 游戏介绍

本游戏是即时对战类游戏，即你写的ai需要根据当前的局面做出一定的决策，为了给予选手充分的时间进行决策的思考，我们做出如下两点改动

1. 每一秒有`frames_per_second`帧，该常数值小于24，因此，观看的ai对决的replay视频渲染时间要大于实际时长
2. 我们保证提供给选手的地图信息是在传递参数时最新的参数，但是选手不一定要每一帧都做出及时的反馈，我们只会在指定的时间处监听选手的决策，若选手没有及时传递回决策，按照未做出任何决策处理。支持选手花费超过一帧的时间做出一次决策，但是在同一帧的时间内做出多次决策以最后一次为准

初始时，生成一张大小为`width*height`的地牢，里面有若干堵墙，每堵墙都是一个四条边与边界平行的矩形，两两不相交，且墙不会导致地图上非墙部分不连通。地图中每个ai同时控制多个角色，每个角色有固定的出生/复活地点，每个势力有自己的魔法水晶，自己势力的角色不能捡起自己的魔法水晶。每个角色，火球，魔法水晶都可以看做是地图中的一个点，但是，当火球与角色之间的距离小于`fireball_radius`时，会发生爆炸，当可拾起的魔法水晶与角色的距离小于`ball_radius`时，魔法水晶会被该角色拾起，其他人不得在持有该水晶直到该角色死亡，水晶掉落原地，或该角色将水晶送到他的目标区域，水晶自动回归初始位置。每局游戏存在一定的限定时间，即经过`time_of_game`秒之后游戏就会结束。游戏具有两种得分方式：干掉其他势力的一个人，你得分他减分，将从某势力处抢到的球送到自己的阵营中，你得分他减分。其中送到自己阵营是指每个势力都有一个目标区域，这个区域是以目标点为中心的一个圆形范围内。

每个选手在复活/出生后血量为`human_hp`，所有冷却时间清零，陨石术使用次数恢复最大值，选手与选手互相攻击的方式有以下两种途径：

1. 火球术：在选手指定方向离选手`fireball_radius`远生成一个火球，向前以每帧`velocity_of_fireball`的移动速度飞去，在碰到墙/地图边界/人的时候才会消失，若因碰到人消失，会造成半径为`splash_radius`(略大于`fireball_radius`)范围内的伤害`fireball_hurt`。火球不可以连发，有`human_fireball_interval`的冷却帧数限制。
2. 陨石术：指定半径`cast_distance`内一点(可以为障碍物上，不可以在边界外)，放置一个陨石轰击指示物，经过`meteor_delay`的帧数之后，天降一颗陨石，对半径为`explode_radius`内所有选手造成`explode_hurt`的伤害。陨石术不可以连发，有`human_meteor_interval`的冷却帧数限制，陨石术不能无限次发射，每人每次出生/复活后可以使用`human_meteor_number`次陨石术。

移动有一下两种途径

1. 正常移动，不可以穿墙，且移动范围为`velocity_of_human`
2. 闪现，直接出现在新的位置处，且移动范围为`flash_distance`

当角色死亡后，会经过`time_of_death`的时间才能在地图上该角色对应的出生点以满血无冷却满陨石术满闪现术的状态复活。

## AI决策

格式可以参照通信协议中的解释

